import{u as p,a as f,r as c,j as e,c as g,L as j}from"./index-dcedb060.js";import{u as b}from"./useForm-69a03ef4.js";const y=a=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.newPassword?a.newPassword.length<8?s.newPassword="Password must be at least 8 characters":/^(?=.*[A-Za-z])(?=.*\d).{8,}$/.test(a.newPassword)||(s.newPassword="Password must contain at least one letter and one number"):s.newPassword="Password is required",s},S=()=>{const{resetPassword:a}=p(),s=f(),[o,d]=c.useState(!1),[m,u]=c.useState(!1),{values:n,errors:r,touched:t,handleChange:l,handleBlur:i,validateForm:x}=b({email:"",newPassword:""},y),w=async h=>{if(h.preventDefault(),!!x())try{d(!0),await a(n.email,n.newPassword),u(!0),setTimeout(()=>{s("/login")},3e3)}catch{}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"})}),m?e.jsx("div",{className:"rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Password reset successful! Redirecting to login..."})})]})}):e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${t.email&&r.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Email address",value:n.email,onChange:l,onBlur:i}),t.email&&r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"sr-only",children:"New Password"}),e.jsx("input",{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${t.newPassword&&r.newPassword?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"New Password",value:n.newPassword,onChange:l,onBlur:i}),t.newPassword&&r.newPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.newPassword})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsx(g,{}):"Reset Password"})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(j,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Back to login"})})]})]})})};export{S as default};
