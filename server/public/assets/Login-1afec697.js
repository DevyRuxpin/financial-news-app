import{u as y,a as b,b as j,r as v,j as e,c as N,L as p}from"./index-dcedb060.js";import{u as S}from"./useForm-69a03ef4.js";const L=a=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.password?a.password.length<8&&(s.password="Password must be at least 8 characters"):s.password="Password is required",s},F=()=>{const{login:a,loading:s}=y(),x=b(),g=j(),[i,n]=v.useState(!1),{values:o,errors:r,touched:t,handleChange:d,handleBlur:l,validateForm:h}=S({email:"",password:""},L),f=async w=>{var c,m;if(w.preventDefault(),!!h())try{n(!0),await a(o.email,o.password);const u=((m=(c=g.state)==null?void 0:c.from)==null?void 0:m.pathname)||"/news";x(u,{replace:!0})}catch{}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${t.email&&r.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Email address",value:o.email,onChange:d,onBlur:l}),t.email&&r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${t.password&&r.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm`,placeholder:"Password",value:o.password,onChange:d,onBlur:l}),t.password&&r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i||s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i||s?e.jsx(N,{}):"Sign in"})}),e.jsxs("div",{className:"text-sm text-center space-y-2",children:[e.jsx("div",{children:e.jsx(p,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})}),e.jsx("div",{children:e.jsx(p,{to:"/reset-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]})]})]})})};export{F as default};
