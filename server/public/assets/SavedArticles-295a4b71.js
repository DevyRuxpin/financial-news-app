import{r,A as u,j as e,d as c}from"./index-dcedb060.js";import{N as x}from"./NewsCard-f60a2ff8.js";const p=()=>{const[a,d]=r.useState([]),[n,o]=r.useState(!0),[i,h]=r.useState(null),{user:l}=r.useContext(u);r.useEffect(()=>{(async()=>{if(l)try{o(!0);const s=await c.get(`/api/news/saved/${l.id}`);d(s.data)}catch(s){h("Failed to fetch saved articles"),console.error(s)}finally{o(!1)}})()},[l]);const v=async t=>{try{await c.delete(`/api/news/saved/${t}`),d(a.filter(s=>s.article_id!==t))}catch(s){console.error("Failed to remove article:",s)}};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Saved Articles"}),n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}):a.length===0?e.jsx("p",{children:"You haven't saved any articles yet."}):e.jsx("div",{className:"mt-6",children:a.map(t=>e.jsxs("div",{className:"relative",children:[e.jsx(x,{article:t,onSave:()=>{}}),e.jsx("button",{onClick:()=>v(t.article_id),className:"absolute top-4 right-4 bg-red-500 hover:bg-red-600 text-white p-1 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},t.id))})]})};export{p as default};
